## 2. アプリケーションの概要

### 2.1 機能
Daycastは、AIエージェントによる状況推論を核とした以下の主要機能を備えています。

* **AIエージェントによる統合推論**
    * カレンダー、ToDo、天気情報を統合し、Gemini APIを用いて「今、何をすべきか」を特定
* **コンテキストに応じた優先順位と必要物の提示**
    * 外的要因（天候や予定の空き枠）に基づき、タスクの優先順位と実行に必要な準備物をAIが自動選定
* **推論結果のダイレクトな提示**
    * AIによる分析結果をメイン画面の最上部に配置し、ユーザーが即座に次のアクションを確認できるインターフェースを提供
* **外部サービス連携管理**
    * Google Calendarや地域設定と同期し、ユーザーの生活環境に最適化された情報を自動収集します。

### 2.2 システムアーキテクチャ
システムは、フロントエンドとバックエンドを疎結合に保ちつつ、AIエージェントを司令塔としたエージェント指向の構成を採用しています。



* **フロントエンド (SPA)**
    * **構成**: Next.js を採用したシングルページアプリケーション。
    * **役割**: `shadcn/ui` を用いた直感的なUIを提供し、デバイスを選ばずシームレスに操作可能です。
* **バックエンド (API Endpoint / Server Actions)**
    * **構成**: Next.js Server Actions (`actions/`) を活用。
    * **役割**: データの永続化（Prisma ORM経由）と、AIエージェントの実行トリガーを制御します。
* **AIエージェント & 外部API**
    * **コア**: Gemini API をメインエンジンに据え、独自のプロンプト管理 (`prompts.ts`) により推論を実行。
    * **ツール**: `services/tools/` 内のモジュール（Weather等）をエージェントが「道具」として活用し、動的な情報をスコア化して収集します。
* **データフロー**
    * **提示と変更**: DBからの情報取得（提示）と、ユーザーやAIによるデータ更新（変更）をAPIエンドポイントを介して常に同期します。